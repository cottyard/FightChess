{
  "version": 3,
  "file": "shape.js",
  "sourceRoot": "..\\..",
  "sources": [
    "src\\game\\shape.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "arrow = (ctx, x, y, to_x, to_y, size = 5) ->\r\n  line ctx, x, y, to_x, to_y\r\n\r\n  angle = calc.get_segment_angle x, y, to_x, to_y\r\n  ctx.save()\r\n  ctx.translate to_x, to_y\r\n  ctx.rotate angle\r\n  triangle ctx, 0, 0, -size / 2, size, size / 2, size\r\n  ctx.restore()\r\n\r\nline = (ctx, x, y, to_x, to_y) ->\r\n  ctx.beginPath()\r\n  ctx.moveTo x, y\r\n  ctx.lineTo to_x, to_y\r\n  ctx.stroke()\r\n  ctx.closePath()\r\n\r\ntriangle = (ctx, x1, y1, x2, y2, x3, y3) ->\r\n  ctx.beginPath()\r\n  ctx.moveTo x1, y1\r\n  ctx.lineTo x2, y2\r\n  ctx.lineTo x3, y3\r\n  ctx.fill()\r\n\r\nrectangle = (ctx, x, y, width, height, fill = no) ->\r\n  if fill\r\n    ctx.fillRect x, y, width, height\r\n  else \r\n    ctx.strokeRect x, y, width, height\r\n\r\ntext = (ctx, text, x, y, style, font) ->\r\n  if style?\r\n    save_style ctx\r\n    set_style ctx, style\r\n\r\n  if font?\r\n    ctx.font = font\r\n\r\n  ctx.fillText text, x, y\r\n\r\n  if font?\r\n    ctx.font = settings.piece_font\r\n\r\n  if style?\r\n    restore_style ctx\r\n\r\nclear_canvas = (ctx) ->\r\n  ctx.save()\r\n  ctx.setTransform 1, 0, 0, 1, 0, 0\r\n  ctx.clearRect 0, 0, ctx.canvas.width, ctx.canvas.height\r\n  ctx.restore()\r\n\r\nset_style = (ctx, style) ->\r\n  ctx.strokeStyle = ctx.fillStyle = style\r\n\r\nset_linewidth = (ctx, width) ->\r\n  ctx.lineWidth = width\r\n\r\n# state\r\n\r\nsaved_strokestyle = []\r\nsaved_fillstyle = []\r\nsaved_linewidth = []\r\n\r\nsave_style = (ctx) ->\r\n  saved_strokestyle.push ctx.strokeStyle\r\n  saved_fillstyle.push ctx.fillStyle\r\n  saved_linewidth.push ctx.lineWidth\r\n\r\nrestore_style = (ctx) ->\r\n  ctx.strokeStyle = saved_strokestyle.pop()\r\n  ctx.fillStyle = saved_fillstyle.pop()\r\n  ctx.lineWidth = saved_linewidth.pop()\r\n\r\n# constant\r\n\r\nstyle_red_tp = \"rgba(255, 0, 0, 0.7)\"\r\nstyle_green_tp = \"rgba(0, 255, 0, 0.7)\"\r\nstyle_blue_tp = \"rgba(0, 0, 255, 0.7)\"\r\nstyle_tp = \"rgba(0, 0, 0, 0.5)\"\r\nstyle_white = \"#FFF\"\r\nstyle_blue = \"#BBF\"\r\nstyle_brown = \"#BB9\"\r\nstyle_grey = \"#DDD\"\r\nstyle_light = \"#888\"\r\n\r\nwindow.shape = {\r\n  arrow,\r\n  line,\r\n  triangle,\r\n  rectangle,\r\n  text,\r\n  \r\n  clear_canvas,\r\n  \r\n  set_style,\r\n  save_style,\r\n  restore_style,\r\n  \r\n  style_red_tp,\r\n  style_green_tp,\r\n  style_blue_tp,\r\n  style_white,\r\n  style_brown,\r\n  style_blue,\r\n  style_grey,\r\n  style_light,\r\n  style_tp\r\n}"
  ]
}