{
  "version": 3,
  "file": "host.js",
  "sourceRoot": "..\\..\\..",
  "sources": [
    "src\\game\\mode\\host.coffee"
  ],
  "names": [],
  "mappings": ";AAAA;AAAA,MAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,WAAA,EAAA,oBAAA,EAAA;;EAAA,WAAA,GAAc,QAAA,CAAC,GAAD,CAAA;IACZ,IAAI,CAAC,UAAL,CAAgB,YAAY,CAAC,QAA7B;IACA,IAAI,CAAC,YAAL,CAAkB,YAAY,CAAC,QAA/B;IACA,IAAI,CAAC,aAAL,CAAmB,YAAY,CAAC,QAAhC;IACA,IAAI,CAAC,YAAL,CAAkB,YAAY,CAAC,QAA/B;IACA,IAAI,CAAC,aAAL,CAAmB,YAAY,CAAC,QAAhC;IACA,SAAS,CAAC,kBAAV,CAAA;WACA,IAAI,CAAC,eAAL,CAAA;EAPY;;EASd,oBAAA,GAAuB,QAAA,CAAC,GAAD,CAAA;IACrB,SAAS,CAAC,kBAAV,CAAA;WACA,IAAI,CAAC,eAAL,CAAA;EAFqB;;EAIvB,QAAA,GAAW,QAAA,CAAC,GAAD,CAAA;IACT,EAAE,CAAC,MAAH,CAAU,UAAV,EAAsB,WAAtB;IACA,EAAE,CAAC,IAAH,CAAQ,UAAR,EAAoB,oBAApB;IACA,SAAS,CAAC,QAAV,CAAmB,GAAG,CAAC,MAAvB,EAA+B,GAAG,CAAC,MAAnC;WACA,OAAO,CAAC,OAAR,CAAA;EAJS;;EAMX,UAAA,GAAa,QAAA,CAAA,CAAA;IACX,OAAO,CAAC,GAAR,CAAY,yBAAZ,EAAuC,SAAS,CAAC,iBAAiB,CAAC,KAAnE;AACA,YAAO,SAAS,CAAC,iBAAiB,CAAC,KAAnC;AAAA,WACO,OADP;eAEI,QAAA,CAAA;AAFJ;QAII,SAAA,CAAA;eACA,QAAA,CAAA;AALJ;EAFW;;EASb,QAAA,GAAW,QAAA,CAAA,CAAA;IACT,SAAS,CAAC,UAAV,CAAqB,OAArB;WACA,IAAI,CAAC,KAAL,CAAA;EAFS;;EAIX,SAAA,GAAY,QAAA,CAAA,CAAA;IACV,IAAI,CAAC,IAAL,CAAA;IAEA,EAAE,CAAC,IAAH,CAAA;IACA,KAAK,CAAC,IAAN,CAAA;IACA,SAAS,CAAC,IAAV,CAAA;IACA,OAAO,CAAC,IAAR,CAAA;IACA,OAAO,CAAC,SAAR,CAAkB,OAAlB;IACA,SAAS,CAAC,IAAV,CAAA;IACA,YAAY,CAAC,IAAb,CAAA;IACA,MAAM,CAAC,IAAP,CAAA;IACA,MAAM,CAAC,IAAP,CAAA;IACA,OAAO,CAAC,IAAR,CAAA;IAEA,EAAE,CAAC,IAAH,CAAQ,UAAR,EAAoB,WAApB;IACA,EAAE,CAAC,IAAH,CAAQ,kBAAR,EAA4B,SAAS,CAAC,wBAAtC;IACA,EAAE,CAAC,IAAH,CAAQ,UAAR,EAAoB,QAApB;WACA,EAAE,CAAC,IAAH,CAAQ,YAAR,EAAsB,UAAtB;EAjBU;;EAmBZ,MAAM,CAAC,IAAI,CAAC,SAAZ,GAAwB;AAnDxB",
  "sourcesContent": [
    "on_gametick = (evt) ->\r\n  game.move_round battleground.instance\r\n  game.assist_round battleground.instance\r\n  game.recover_round battleground.instance\r\n  game.attack_round battleground.instance\r\n  game.end_of_rounds battleground.instance\r\n  gamestate.send_current_state()\r\n  game.render_gametick()\r\n\r\non_gametick_game_end = (evt) ->\r\n  gamestate.send_current_state()\r\n  game.render_gametick()\r\n\r\nend_game = (evt) ->\r\n  ev.unhook 'gametick', on_gametick\r\n  ev.hook 'gametick', on_gametick_game_end\r\n  gamestate.end_game evt.result, evt.player\r\n  preview.disable()\r\n\r\nstart_game = ->\r\n  console.log 'game starts from state:', gamestate.current_gamestate.state\r\n  switch gamestate.current_gamestate.state\r\n    when 'ready'\r\n      do_start()\r\n    else\r\n      init_host()\r\n      do_start()\r\n\r\ndo_start = ->\r\n  gamestate.start_game 'white'\r\n  game.start()\r\n  \r\ninit_host = ->\r\n  game.stop()\r\n\r\n  ev.init()\r\n  input.init()\r\n  operation.init()\r\n  preview.init()\r\n  preview.set_color 'white'\r\n  gamestate.init()\r\n  battleground.init()\r\n  battle.init()\r\n  effect.init()\r\n  network.init()\r\n\r\n  ev.hook 'gametick', on_gametick\r\n  ev.hook 'move_round_begin', operation.handle_cached_operations\r\n  ev.hook 'game_end', end_game\r\n  ev.hook 'game_start', start_game\r\n\r\nwindow.game.init_host = init_host"
  ]
}